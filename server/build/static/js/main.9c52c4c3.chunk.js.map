{"version":3,"sources":["assets/banner-001.jpg","assets/banner-002.jpg","assets/banner-003.jpg","assets/banner-004.jpg","assets/banner-005.jpg","skeletons/Home.tsx","api/index.ts","components/TopNav.tsx","utils/index.ts","components/Footer.tsx","skeletons/Detail.tsx","router/config.ts","pages/Home.tsx","pages/Detail.tsx","pages/Box.tsx","pages/Search.tsx","errors/NotFound.tsx","router/RouterView.tsx","App.tsx","serviceWorker.ts","index.tsx","assets/loading.svg"],"names":["module","exports","__webpack_require__","p","CardListSkeleton","props","column","list","Array","fill","react_default","a","createElement","Fragment","map","item","index","className","key","card","loading","cover","src","loadingSvg","alt","CardListTop250Skeleton","join","ListSkeleton","row","skeleton","paragraph","title","rows","BASE_URL","API_KEY","http","source","axios","CancelToken","window","cancalXHRList","push","create","baseURL","timeout","params","apikey","cancelToken","token","getHotShowing","get","getContentBySearch","str","concat","withRouter","_useState","useState","_useState2","Object","slicedToArray","hostShowTitle","setHostShowTitle","_useState3","_useState4","hotShowList","setHotShowList","_useState5","_useState6","suggestList","setSuggestList","_useState7","getSearchHistory","slice","searchHistory","_useState9","_useState10","searchStr","setSearchStr","_useState11","_useState12","isShowSuggestBox","setIsShowSuggestBox","_useState13","_useState14","isShowTipsPanel","setIsShowTipsPanel","_useState15","_useState16","isTopNavFixed","setIsTopNavFixed","navToSearch","trim","search","data","isTraditional","arguments","length","undefined","arr","_loop","field","encodeURIComponent","serialize","q","history","pathname","JSON","parse","localStorage","getItem","addSearchHistory","cache","some","c","id","unshift","pop","setItem","stringify","getSearch","ev","value","target","isValid","getSuggestionBySearch","closeSuggest","renderTopBar","react_router_dom","to","slotTitle","onClick","icon","type","placeholder","onChange","nativeEvent","stopImmediatePropagation","onKeyDown","keyCode","style","display","original_title","_","count","then","_ref","subjects","useEffect","start","_ref2","document","addEventListener","removeEventListener","noAffix","affix","isFixed","Footer","href","divider","Detail","statistic","avatar","config","path","component","newMovieList","setNewMovieList","goodBoxList","setGoodBoxList","_useState8","weeklyBox","setWeeklyBox","top250List","setTop250List","boxLastDate","setBoxLastDate","isLoadingHotShow","setIsLoadingHotShow","isLoadingNewMovie","setIsLoadingNewMovie","_useState17","_useState18","isLoadingGoodBox","setIsLoadingGoodBox","_useState19","_useState20","isLoadingWeeklyBox","setIsLoadingWeeklyBox","_useState21","_useState22","isLoadingTop250","setIsLoadingTop250","bannerList","imgBanner001","imgBanner002","imgBanner003","imgBanner004","imgBanner005","_ref3","date","_ref4","_ref5","components_TopNav","carousel","autoplay","hoverable","LazyLoad_default","height","offsetTop","images","small","es_tag","rating","average","Meta","description","genres","summary","rank","box","subject","collect_count","summaryList","new","dangerouslySetInnerHTML","__html","len","groupList","s","e","g","n","isFirst","renderTop250","match","isAutoPlay","currentPlayData","setCurrentPlayData","detailData","setDetailData","isLoadingDetail","setIsLoadingDetail","isOpenPlayBox","setIsOpenPlayBox","galleryBox","playThisVideo","_split","split","_split2","$units","$decimal","setTimeout","clearTimeout","galleryBoxEl","width","from","children","child","w","getComputedStyle","replace","Math","ceil","reCalcGalleryBoxWidth","ratings_count","tags","tag","directors","name","casts","typography","Paragraph","ellipsis","expandable","photos_count","data-id","ref","current","photos","image","trailer_urls","color","theme","reviews_count","popular_reviews","author","created_at","comment","rate","disabled","defaultValue","max","content","datetime","tooltip","moment","format","fromNow","comments_count","popular_comments","useful_count","useless_count","actions","paddingLeft","cursor","drawer","placement","destroyOnClose","onClose","visible","autoPlay","controls","es_list","itemLayout","size","dataSource","trailers","renderItem","Item","extra","medium","resource_url","location","decodeURIComponent","reduce","prev","cur","flag","indexOf","val","reSerialize","searchPageSize","searchData","setSearchData","refPageBox","useRef","refRateBox","changeSearchData","refPageBoxHeight","refRateBoxHeight","cssText","pagination","total","setSrc","idx","mkt","url","backgroundImage","CustomRoute","beforeEnter","react_router","matchRoute","routerMap","find","RegExp","test","exact","hasChild","RouterView","routerBeforeEnterHook","scrollTo","top","behavior","forEach","cancel","locale","App","locale_provider","zhCN","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","src_App","getElementById","URL","process","origin","fetch","response","contentType","headers","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.9c52c4c3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/banner-001.0f7e17ec.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner-002.98a4e483.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner-003.acb37150.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner-004.d8c44150.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner-005.c87197be.jpg\";","import React from 'react';\nimport { Card, Skeleton } from 'antd';\nimport loadingSvg from '../assets/loading.svg';\n\nexport function CardListSkeleton(props: ICardList) {\n  let { column } = props;\n  let list = new Array(column || 6).fill(1);\n  return (\n    <>\n      {\n        list.map((item: number, index: number) => {\n          return (\n            <div className=\"card-container\" key={index}>\n              <Card\n                key={index}\n                loading={true}\n                className=\"movie-card\"\n                cover={\n                  <div className=\"loading-img-box\">\n                    <img src={loadingSvg} alt=\"loading\" />\n                  </div>\n                }\n              />\n            </div>\n          );\n        })\n      }\n    </>\n  );\n}\n\nexport function CardListTop250Skeleton() {\n  let list = new Array(9).fill(1);\n  return (\n    <div className=\"cards-box cards-box--top250 clearfix\">\n      {\n        list.map((item: number, index: number) => {\n          return (\n            <div className={[\"card-container\", index === 0 ? \"card-big\" : \"\"].join(\" \")} key={index}>\n              <Card\n                key={index}\n                loading={true}\n                className=\"movie-card\"\n                cover={\n                  <div className=\"loading-img-box\">\n                    <img src={loadingSvg} alt=\"loading\" />\n                  </div>\n                }\n              />\n            </div>\n          );\n        })\n      }\n    </div>\n  );\n}\n\nexport function ListSkeleton(props: IList) {\n  let { row } = props;\n  let list = new Array(row || 4).fill(1);\n  return (\n    <>\n      {\n        list.map((item: number, index: number) => {\n          return (\n            <li className=\"goodbox-rate\" key={index}>\n              <Skeleton className=\"title\" paragraph={false} />\n              <Skeleton className=\"summary\" title={false} paragraph={{ rows: 1 }} />\n              <span className=\"rank\">0</span>\n              <span className=\"box\">0 万</span>\n            </li>\n          );\n        })\n      }\n    </>\n  );\n}\n","import axios from \"axios\";\n\nconst BASE_URL = \"/api/movie\";\nconst API_KEY = \"0b2bdeda43b5688921839c8ecb20399b\";\n\nwindow.cancalXHRList = [];\n\nfunction http() {\n  const CancelToken = axios.CancelToken;\n  const source = CancelToken.source();\n\n  window.cancalXHRList.push(source);\n\n  let instance: AxiosInstance = axios.create({\n    baseURL: BASE_URL,\n    timeout: 3e4,\n    params: {\n      \"apikey\": API_KEY,\n    },\n    cancelToken: source.token,\n  });\n\n  return instance;\n}\n\n// 热映\nexport function getHotShowing(params?: iRequestGetData) {\n  return http().get(\"/in_theaters\", {\n    params,\n  });\n}\n\n// top250\nexport function getTop250(params?: iRequestGetData) {\n  return http().get(\"/top250\", {\n    params,\n  });\n}\n\n// 新片\nexport function getNew() {\n  return http().get(\"/new_movies\");\n}\n\n// 电影详情\nexport function getDetail(id: string) {\n  return http().get(`/subject/${id}`);\n}\n\n// 北美票房榜\nexport function getGoodbox() {\n  return http().get(\"/us_box\");\n}\n\n// 搜索条目\nexport function getContentBySearch(str: string, params?: iRequestGetData) {\n  return http().get(`/search?q=${str}`, {\n    params\n  });\n}\n\n// 口碑榜\nexport function getWeeklyMovie() {\n  return http().get(\"/weekly\");\n}\n\n// 获取每日壁纸\nexport function getWallPaper() {\n  return axios.get(\"/bing/HPImageArchive.aspx\", {\n    params: {\n      format: \"js\",\n      idx: 0,\n      n: 1,\n      mkt: \"zh-CN\",\n    }\n  });\n}\n","import React, { useState, useEffect } from \"react\";\nimport { withRouter, Link } from 'react-router-dom';\nimport { Icon, Affix } from 'antd';\nimport { getHotShowing, getContentBySearch } from \"../api\";\nimport * as _ from \"lodash\";\nimport { serialize } from '../utils';\nimport '../css/Home.css';\n\nfunction TopNav(props: iTopNavProps) {\n  let [hostShowTitle, setHostShowTitle] = useState(\"\");\n  let [hotShowList, setHotShowList] = useState<any>([]);\n  let [suggestList, setSuggestList] = useState<any>([]);\n  let [searchHistory] = useState(getSearchHistory().slice(0));\n  let [searchStr, setSearchStr] = useState(\"\");\n  let [isShowSuggestBox, setIsShowSuggestBox] = useState(false);\n  let [isShowTipsPanel, setIsShowTipsPanel] = useState(true);\n  let [isTopNavFixed, setIsTopNavFixed] = useState(false);\n\n  function navToSearch() {\n    searchStr = searchStr.trim();\n\n    if (searchStr === \"\") {\n      searchStr = hostShowTitle;\n    }\n\n    let query:iSearchParams = {\n      q: searchStr,\n    };\n\n    let search = serialize(query);\n\n    props.history.push({\n      pathname: '/search',\n      search,\n    });\n  }\n\n  function getSearchHistory() {\n    const KEY = \"SEARCH_H\";\n    let cache = JSON.parse(localStorage.getItem(KEY) || \"[]\");\n    return cache;\n  }\n\n  function addSearchHistory(item: iSearchHistory) {\n    const MAX_LEN_CACHE_SEARCH = 5;\n    const KEY = \"SEARCH_H\";\n    let cache = getSearchHistory().slice(0);\n\n    let isExist = cache.some((c: iSearchHistory) => {\n      return c.id === item.id;\n    });\n\n    if (!isExist) {\n      cache.unshift(item);\n      if (cache.length > MAX_LEN_CACHE_SEARCH) {\n        cache.pop();\n      }\n      localStorage.setItem(KEY, JSON.stringify(cache));\n    }\n  }\n\n  function getContentBySearchDebounce() {\n    return _.debounce(function (value) {\n      getContentBySearch(value, {\n        count: 5,\n      })\n        .then(({ data }: AxiosResponse) => {\n          let { subjects } = data;\n          setSuggestList(subjects);\n        });\n    }, 5e2);\n  }\n\n  function getSearch(ev: any) {\n    let value = ev.target.value;\n    let str = value.trim();\n    let isValid = str.length > 0;\n\n    setSearchStr(value);\n    setIsShowTipsPanel(!isValid);\n\n    // close showlist\n    isValid && getSuggestionBySearch(str);\n\n  }\n\n  function closeSuggest() {\n    setIsShowSuggestBox(false);\n  }\n\n  function renderTopBar() {\n    return (\n      <div className={[\"header-bar\", isTopNavFixed ? \"head-bar--fixed\" : \"\"].join(\" \")}>\n        <div className=\"bar-container clearfix\">\n          <span className=\"bar-top\">\n            <Link to=\"/home\">\n              <div className=\"logo\"></div>\n              <div className=\"slot-title\">{props.slotTitle}</div>\n            </Link>\n          </span>\n          <div className=\"search\">\n            <div className=\"search-box\">\n              <div className=\"search-btn\" onClick={navToSearch}>\n                <Icon type=\"search\" />\n                <span>全网搜</span>\n              </div>\n              <input className=\"search-input\"\n                placeholder={hostShowTitle}\n                value={searchStr}\n                onChange={getSearch}\n                onClick={ev => {\n                  ev.nativeEvent.stopImmediatePropagation();\n                  setIsShowSuggestBox(true);\n                }}\n                onKeyDown={ev => {\n                  setIsShowSuggestBox(true);\n                  if (ev.keyCode === 13) {\n                    setIsShowSuggestBox(false);\n                    navToSearch();\n                  }\n                }} />\n            </div>\n            <div className=\"search-list\" style={\n              {\n                \"display\": isShowSuggestBox ? \"block\" : \"none\",\n              }\n            }\n              onClick={ev => { ev.nativeEvent.stopImmediatePropagation() }}>\n              {\n                isShowTipsPanel ?\n                  <div>\n                    <div className=\"list-history\" style={\n                      {\n                        \"display\": searchHistory.length > 0 ? \"block\" : \"none\",\n                      }\n                    }>\n                      <h4 className=\"panel-title\">历史记录</h4>\n                      <ul>\n                        {\n                          searchHistory.map((item: iSearchHistory, index: number) => {\n                            return (\n                              <li className=\"list-item\" key={index}>\n                                <Link to={`/detail/${item.id}`}>\n                                  <h5 className=\"title\">{item.title}</h5>\n                                </Link>\n                              </li>\n                            );\n                          })\n                        }\n                      </ul>\n                    </div>\n                    <div className=\"list-hot\">\n                      <h4 className=\"panel-title\">热映</h4>\n                      <ul>\n                        {\n                          hotShowList.slice(0, 8).map((item: any, index: number) => {\n                            return (\n                              <li className=\"list-item\" key={index}>\n                                <Link to={`/detail/${item.id}`}\n                                  onClick={(ev: any) => {\n                                    addSearchHistory({\n                                      id: item.id,\n                                      title: item.title,\n                                    });\n                                  }}>\n                                  <span className=\"index\">{+index + 1}</span>\n                                  <span className=\"title\">{item.title}</span>\n                                </Link>\n                              </li>\n                            );\n                          })\n                        }\n                      </ul>\n                    </div>\n                  </div>\n                  :\n                  <div className=\"list-suggest\">\n                    <ul>\n                      {\n                        suggestList.map((item: any, index: number) => {\n                          return (\n                            <li className=\"list-item\" key={index}>\n                              <Link to={`/detail/${item.id}`}\n                                onClick={(ev: any) => {\n                                  addSearchHistory({\n                                    id: item.id,\n                                    title: item.title,\n                                  });\n                                }}>\n                                <h5 className=\"title\">{item.title}</h5>\n                                <p className=\"origin_title\">{item.original_title}</p>\n                              </Link>\n                            </li>\n                          );\n                        })\n                      }\n                    </ul>\n                  </div>\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  let getSuggestionBySearch = getContentBySearchDebounce();\n\n  // componentDidMount\n  useEffect(() => {\n    getHotShowing({\n      start: 0,\n      count: 12,\n    })\n      .then(({ data }: AxiosResponse) => {\n        let { subjects } = data;\n\n        let title = subjects.length > 0 ? subjects[0].title : \"\";\n\n        setHostShowTitle(title);\n        setHotShowList(subjects);\n      });\n\n\n\n    document.addEventListener(\"click\", closeSuggest);\n\n    return () => {\n      // componentWillUnMount\n      document.removeEventListener(\"click\", closeSuggest);\n    }\n  }, []);\n\n\n  if (props.noAffix) {\n    return renderTopBar();\n  }\n\n  return (\n    <Affix onChange={(isFixed?: boolean) => {\n      setIsTopNavFixed(!!isFixed);\n    }}>\n      {renderTopBar()}\n    </Affix>\n  );\n\n}\n\n\nexport default withRouter(TopNav);\n","// serialize data  e.g. {a:\"abc\",b:\"123\"} -> \"a=abc&b=123\"\nexport function serialize(data: any, isTraditional: boolean = false): string {\n  let arr = [];\n  if (typeof data == \"object\") {\n    for (let key in data) {\n      if (data[key] != null) {\n        let item = data[key];\n        if (isTraditional && item instanceof Array) {\n          arr.push(item.map(function (field) {\n            return encodeURIComponent(key) + \"=\" + encodeURIComponent(field);\n          }).join(\"&\"));\n        } else {\n          arr.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(item));\n        }\n      }\n    }\n    return arr.join(\"&\");\n  }\n  return '';\n}\n/**\n* reverse serialize data  e.g. \"a=abc&b=123\" -> {\"a\":\"abc\",\"b\":\"123\"}\n* @param {string} str\n* @param {boolean} isTraditional if true e.g. \"a=abc&b=123&b=456\" -> {\"a\":\"abc\",\"b\":[\"123\",\"456\"]}\n*/\nexport function reSerialize(str: string, isTraditional = true): object {\n  let s = decodeURIComponent(str);\n\n  return s.split(\"&\").reduce(function (prev:any, cur) {\n    let flag = cur.indexOf(\"=\");\n    let key = cur.slice(0, flag);\n    let val = cur.slice(flag + 1);\n\n    if (isTraditional) {\n      if (prev[key]) {\n        prev[key] instanceof Array ? prev[key].push(val) : prev[key] = [prev[key], val];\n      } else {\n        prev[key] = val;\n      }\n    } else {\n      prev[key] = val;\n    }\n\n    return prev;\n  }, {});\n}\n","import React from \"react\";\nimport { Divider } from 'antd';\n\n\nexport default function () {\n  return (\n    <div className=\"footer\">\n      <div className=\"footer-block content-origin\">\n        <span>免责声明：内容来源于 <a href=\"https://movie.douban.com/\" target=\"_blank\">豆瓣电影</a> ，接口来源于网络，侵删，禁止商业用途使用</span>\n      </div>\n      <div className=\"footer-block copyright\">\n        <span>Copyright &copy;2019 <a href=\"https://github.com/Yangfan2016\" target=\"_blank\">yangfan2016</a> &lt;15234408101@163.com&gt;</span>\n        <Divider type=\"vertical\" />\n        <span><a href=\"https://github.com/Yangfan2016/douban-movie-web/blob/master/LICENSE\" target=\"_blank\">MIT</a></span>\n      </div>\n      <div className=\"footer-block menu\">\n        <span><a href=\"https://github.com/Yangfan2016\" target=\"_blank\">关于我</a></span>\n        <Divider type=\"vertical\" />\n        <span><a href=\"https://github.com/Yangfan2016\" target=\"_blank\">About me</a></span>\n        <Divider type=\"vertical\" />\n        <span><a href=\"https://github.com/Yangfan2016\" target=\"_blank\">Github</a></span>\n        <Divider type=\"vertical\" />\n        <span><a href=\"https://juejin.im/user/5bd570f86fb9a05d396f5d50\" target=\"_blank\">掘金</a></span>\n        <Divider type=\"vertical\" />\n        <span><a href=\"https://yangfan2016.github.io\" target=\"_blank\">博客</a></span>\n      </div>\n    </div>\n  );\n};\n\n\n\n\n\n\n","import React from 'react';\nimport { Statistic, Skeleton } from 'antd';\n\nexport default function () {\n  return (\n    <div className=\"page page-detail\">\n      <div className=\"poster-box\">\n        <div className=\"profile\">\n          <div className=\"profile-rate\">\n            <div className=\"rate\">\n              <span className=\"units\">0</span>\n            </div>\n            <Statistic\n              title=\"评价人数\"\n              value=\"0\"\n              className=\"box\" />\n          </div>\n          <div className=\"block profile-img-loading\"></div>\n          <div className=\"block profile-info\">\n            <Skeleton />\n          </div>\n          <div className=\"block profile-reviews\">\n            <Skeleton avatar paragraph={{ rows: 4 }} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import Home from '../pages/Home';\nimport Detail from '../pages/Detail';\nimport Box from '../pages/Box';\nimport Search from '../pages/Search';\n\nimport NotFound from '../errors/NotFound';\n\nexport default [\n  {\n    path: '/home',\n    component: Home,\n  },\n  {\n    path: '/detail/:id',\n    component: Detail,\n  },\n  {\n    path: '/box',\n    component: Box,\n  },\n  {\n    path: '/search',\n    component: Search,\n  },\n  {\n    path: '/404',\n    component: NotFound,\n  }\n];\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { Card, Tag, Carousel } from 'antd';\nimport { CardListTop250Skeleton, CardListSkeleton, ListSkeleton } from \"../skeletons/Home\";\nimport TopNav from '../components/TopNav';\nimport Footer from '../components/Footer';\nimport { getHotShowing, getNew, getGoodbox, getWeeklyMovie, getTop250 } from \"../api\";\nimport * as _ from \"lodash\";\nimport LazyLoad from \"react-lazy-load\";\nimport '../css/Home.css';\n\n// temp banner\nimport imgBanner001 from '../assets/banner-001.jpg';\nimport imgBanner002 from '../assets/banner-002.jpg';\nimport imgBanner003 from '../assets/banner-003.jpg';\nimport imgBanner004 from '../assets/banner-004.jpg';\nimport imgBanner005 from '../assets/banner-005.jpg';\n\n\nexport default function () {\n\n  let [hotShowList, setHotShowList] = useState<any>([]); // 热映\n  let [newMovieList, setNewMovieList] = useState<any>([]); // 新片\n  let [goodBoxList, setGoodBoxList] = useState<any>([]); // 票房榜\n  let [weeklyBox, setWeeklyBox] = useState<any>([]); // 口碑榜\n  let [top250List, setTop250List] = useState<any>([]); // top250\n  let [boxLastDate, setBoxLastDate] = useState(\"\");\n  let [isLoadingHotShow, setIsLoadingHotShow] = useState(true);\n  let [isLoadingNewMovie, setIsLoadingNewMovie] = useState(true);\n  let [isLoadingGoodBox, setIsLoadingGoodBox] = useState(true);\n  let [isLoadingWeeklyBox, setIsLoadingWeeklyBox] = useState(true);\n  let [isLoadingTop250, setIsLoadingTop250] = useState(true);\n\n  // temp\n  let bannerList = [\n    imgBanner001,\n    imgBanner002,\n    imgBanner003,\n    imgBanner004,\n    imgBanner005\n  ];\n\n  function renderTop250() {\n    let len = top250List.length;\n    let count = len / 9 | 0;\n    let groupList = new Array(count).fill(0);\n\n    groupList = groupList.map((item: number, index: number) => {\n      let s = 9 * index;\n      let e = s + 9;\n      return top250List.slice(s, e);\n    });\n\n    return (\n      groupList.map((g: any, n: number) => {\n        return (\n          <div className=\"cards-box cards-box--top250 clearfix\" key={n}>\n            {\n              g.map((item: any, index: number) => {\n                let isFirst = index === 0;\n                return (\n                  <div className={[\"card-container\", isFirst ? \"card-big\" : \"\"].join(\" \")} key={n + index}>\n                    <Card\n                      className=\"movie-card\"\n                      hoverable\n                      cover={\n                        <Link to={`/detail/${item.id}`}>\n                          <LazyLoad height={isFirst ? 600 : 300} offsetTop={500}>\n                            <img className=\"card-img\" src={item.images.small} />\n                          </LazyLoad>\n                        </Link>\n                      }\n                    >\n                      <Tag className=\"img-tag tag-orange\">{item.rating.average}</Tag>\n                      <Card.Meta\n                        title={item.title}\n                        description={item.genres.join(\"/\")}\n                      />\n                    </Card>\n                  </div>\n                );\n              })\n            }\n          </div>\n        );\n      })\n    );\n\n  }\n\n  useEffect(() => {\n\n    getHotShowing({\n      start: 0,\n      count: 12,\n    })\n      .then(({ data }: AxiosResponse) => {\n        let { subjects } = data;\n\n        setHotShowList(subjects);\n        setIsLoadingHotShow(false);\n      });\n\n    getNew()\n      .then(({ data }: AxiosResponse) => {\n        let { subjects } = data;\n\n        setNewMovieList(subjects);\n        setIsLoadingNewMovie(false);\n      });\n\n    getGoodbox()\n      .then(({ data }: AxiosResponse) => {\n        let { subjects, date } = data;\n\n        setBoxLastDate(date);\n        setGoodBoxList(subjects);\n        setIsLoadingGoodBox(false);\n      });\n\n    getWeeklyMovie()\n      .then(({ data }: AxiosResponse) => {\n        let { subjects } = data;\n\n        setWeeklyBox(subjects);\n        setIsLoadingWeeklyBox(false);\n      });\n\n    getTop250({\n      count: 36,\n    })\n      .then(({ data }: AxiosResponse) => {\n        let { subjects } = data;\n\n        setTop250List(subjects);\n        setIsLoadingTop250(false);\n      });\n  }, []);\n\n\n  return (\n    <div>\n      <div className=\"header\">\n        <TopNav />\n        <div className=\"header-banner\">\n          <Carousel autoplay>\n            {bannerList.map((item: any, index: number) => {\n              return (\n                <div\n                  className=\"banner-item\"\n                  key={index}>\n                  <img src={item} alt=\"banner\" />\n                </div>\n              );\n            })}\n          </Carousel>\n        </div>\n      </div>\n      <div className=\"page page-home\">\n        <div className=\"block block-hotshow\">\n          <div className=\"line-raw\">\n            <h2 className=\"raw-title\">正在热映</h2>\n          </div>\n          <div className=\"cards-box clearfix\">\n            {\n              isLoadingHotShow ?\n                <CardListSkeleton column={6} /> :\n                hotShowList.map((item: any, index: number) => {\n                  return (\n                    <div className=\"card-container\" key={index}>\n                      <Card\n                        className=\"movie-card\"\n                        hoverable\n                        cover={\n                          <Link to={`/detail/${item.id}`}>\n                            <LazyLoad height={300} offsetTop={500}>\n                              <img src={item.images.small} />\n                            </LazyLoad>\n                          </Link>\n                        }\n                      >\n                        <Tag className=\"img-tag tag-orange\">{item.rating.average}</Tag>\n                        <Card.Meta\n                          title={item.title}\n                          description={item.genres.join(\"/\")}\n                        />\n                      </Card>\n                    </div>\n                  );\n                })}\n          </div>\n        </div>\n        <div className=\"block block-newmovie\">\n          <div className=\"line-raw\">\n            <h2 className=\"raw-title\">新片榜</h2>\n          </div>\n          <div className=\"cards-box clearfix\">\n            {\n              isLoadingNewMovie ?\n                <CardListSkeleton column={4} /> :\n                newMovieList.map((item: any, index: number) => {\n                  return (\n                    <div className=\"card-container\" key={index}>\n                      <Card\n                        className=\"movie-card\"\n                        hoverable\n                        cover={\n                          <Link to={`/detail/${item.id}`}>\n                            <LazyLoad height={300} offsetTop={500}>\n                              <img src={item.images.small} />\n                            </LazyLoad>\n                          </Link>\n                        }\n                      >\n                        <Tag className=\"img-tag tag-orange\">{item.rating.average}</Tag>\n                        <Card.Meta\n                          title={item.title}\n                          description={item.genres.join(\"/\")}\n                        />\n                      </Card>\n                    </div>\n                  );\n                })}\n          </div>\n          <div className=\"rate-box\">\n            <div className=\"line-raw\">\n              <h2 className=\"raw-title\">北美票房榜</h2>\n              <p>{boxLastDate} 更新/美元</p>\n            </div>\n            <ul className=\"goodbox\">\n              {\n                isLoadingGoodBox ?\n                  <ListSkeleton row={2} /> :\n                  goodBoxList.map((item: any, index: number) => {\n                    let { rank, box, subject } = item;\n                    let { title, id, rating, collect_count } = subject;\n                    let { average } = rating;\n\n                    let isNew = item.new;\n\n                    let summaryList = [];\n                    let summary = \"\";\n\n                    if (isNew) {\n                      summaryList.push(\"<span class='box-new'>新上榜</span>\");\n                    }\n\n                    summaryList.push(`${average || 0} 分`);\n                    summaryList.push(`${collect_count} 收藏`);\n                    summary = summaryList.join(\" / \");\n\n                    return (\n                      <li className=\"goodbox-rate\" key={index}>\n                        <Link to={`/detail/${id}`}>\n                          <h3 className=\"title\">{title}</h3>\n                          <p className=\"summary\" dangerouslySetInnerHTML={{ __html: summary }}></p>\n                          <span className=\"rank\">{rank}</span>\n                          <span className=\"box\">{box / 1e4} 万</span>\n                        </Link>\n                      </li>\n                    );\n                  })\n              }\n            </ul>\n          </div>\n        </div>\n        <div className=\"block block-weekly\">\n          <div className=\"line-raw\">\n            <h2 className=\"raw-title\">一周口碑榜</h2>\n            <div className=\"spotbox\">\n              <div className=\"spot\"></div>\n              <div className=\"spot\"></div>\n              <div className=\"spot\"></div>\n            </div>\n          </div>\n          <div className=\"cards-box weekly-box clearfix\">\n            {\n              weeklyBox.slice(0, 6).map((item: any, index: number) => {\n                let { subject } = item;\n                let { rating, title } = subject;\n                let { average } = rating;\n                return (\n                  <div className=\"card-container\" key={index}>\n                    <div className=\"rate\">{average} 分</div>\n                    <div className=\"title\">{title}</div>\n                    <div className=\"dot\"></div>\n                  </div>\n                );\n              })\n            }\n          </div>\n          <div className=\"cards-box clearfix\">\n            {\n              isLoadingWeeklyBox ?\n                <CardListSkeleton column={6} /> :\n                weeklyBox.slice(0, 6).map((item: any, index: number) => {\n                  let { subject } = item;\n                  let { rating, title, id, images, genres } = subject;\n                  let { average } = rating;\n                  return (\n                    <div className=\"card-container\" key={index}>\n                      <Card\n                        className=\"movie-card\"\n                        hoverable\n                        cover={\n                          <Link to={`/detail/${id}/#`}>\n                            <LazyLoad height={300} offsetTop={500}>\n                              <img src={images.small} />\n                            </LazyLoad>\n                          </Link>\n                        }\n                      >\n                        <Tag className=\"img-tag tag-orange\">{average}</Tag>\n                        <Card.Meta\n                          title={title}\n                          description={genres.join(\"/\")}\n                        />\n                      </Card>\n                    </div>\n                  );\n                })}\n          </div>\n        </div>\n        <div className=\"block block-top250\">\n          <div className=\"line-raw\">\n            <h2 className=\"raw-title\">Top 250</h2>\n          </div>\n          {\n            isLoadingTop250 ?\n              <CardListTop250Skeleton /> :\n              renderTop250()\n          }\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Tag, Statistic, Comment, Avatar, Tooltip, Rate, Icon, Drawer, List, Typography } from 'antd';\nimport moment from 'moment';\nimport PageSkeleton from '../skeletons/Detail';\nimport { getDetail } from '../api';\nimport '../css/Detail.css';\n\n\nexport default function (props: iDetailProps) {\n  let { params } = props.match;\n\n  let [currentPlayData, setCurrentPlayData] = useState<any>({\n    index: 0,\n    isAutoPlay: true,\n  });\n  let [detailData, setDetailData] = useState<any>({});\n  let [isLoadingDetail, setIsLoadingDetail] = useState(true);\n  let [isOpenPlayBox, setIsOpenPlayBox] = useState(false);\n  let galleryBox: HTMLElement | null = null;\n\n  function reCalcGalleryBoxWidth() {\n    // 重新计算图片画廊的宽度\n    if (!galleryBox) return;\n    let galleryBoxEl: HTMLElement | null = galleryBox;\n    if (galleryBoxEl) {\n      let width = 0;\n      Array.from(galleryBoxEl.children).map((child: Element) => {\n        let w = +(getComputedStyle(child).width || '0').replace(\"px\", \"\");\n        w = Math.ceil(w);\n        width += w;\n      });\n      galleryBoxEl.style.width = `${width}px`;\n    }\n  }\n  function playThisVideo(src: string, index: number) {\n    setCurrentPlayData({\n      src,\n      index,\n      isAutoPlay: true,\n    });\n  }\n\n  function openPlayBox(src: string) {\n    playThisVideo(src, 0);\n    setIsOpenPlayBox(true);\n  }\n\n  function closePlayBox() {\n    setIsOpenPlayBox(false);\n  }\n\n  useEffect(() => {\n    getDetail(params.id)\n      .then(({ data }: AxiosResponse) => {\n        // 处理下数据\n        let average = data.rating.average;\n        let [$units, $decimal] = (\"\" + average).split(\".\");\n\n        data.$units = $units || 0;\n        data.$decimal = $decimal || 0;\n\n        setDetailData(data);\n        setIsLoadingDetail(false);\n\n      });\n  }, []);\n\n  useEffect(() => {\n    if (isLoadingDetail === true) return;\n\n    // BUG 需要等待所有图片加载完，才能获取到宽度\n    let id = setTimeout(() => {\n      clearTimeout(id);\n      reCalcGalleryBoxWidth();\n    }, 3e3);\n\n  }, [isLoadingDetail]);\n\n\n  if (isLoadingDetail) {\n    return <PageSkeleton />;\n  }\n  if (!detailData.id) return '';\n  return (\n    <>\n      <div className=\"page page-detail\">\n        <div className=\"poster-box\">\n          <div className=\"profile\">\n            <div className=\"profile-rate\">\n              <div className=\"rate\">\n                <span className=\"units\">{detailData.$units}</span>\n                {\n                  detailData.$units > 0 &&\n                  <span className=\"decimal\">.{detailData.$decimal}</span>\n                }\n              </div>\n              <Statistic\n                title=\"评价人数\"\n                value={detailData.ratings_count}\n                className=\"box\" />\n              <h2 className=\"title\">{detailData.original_title}</h2>\n            </div>\n            <div className=\"block profile-img\">\n              <img src={detailData.images.small} alt=\"\" />\n            </div>\n            <div className=\"block profile-info\">\n              <h2 className=\"raw-title\">{detailData.title}</h2>\n              <div className=\"tags\">\n                {\n                  detailData.tags.map((tag: string, index: number) => {\n                    return <Tag className=\"tag-text\" key={index}>{tag}</Tag>\n                  })\n                }\n              </div>\n              <div className=\"directors\">\n                <label>导演：</label>\n                {\n                  detailData.directors.map((item: any, index: number) => {\n                    return <a key={index} className=\"person\">{item.name}</a>\n                  })\n                }\n              </div>\n              <div className=\"actors\">\n                <label>演员：</label>\n                {\n                  detailData.casts.map((item: any, index: number) => {\n                    let split = \"\";\n                    if (index !== 0) {\n                      split = \"/\";\n                    }\n                    return (\n                      <span key={index}>\n                        {split}\n                        <a className=\"person\">{item.name}</a>\n                      </span>\n                    );\n                  })\n                }\n              </div>\n              <div className=\"video_summary\">\n                <Typography.Paragraph className=\"summary\"\n                  ellipsis={\n                    {\n                      rows: 3,\n                      expandable: true,\n                    }\n                  }>\n                  {detailData.summary}\n                </Typography.Paragraph>\n              </div>\n            </div>\n            <div className=\"block profile-photos\">\n              <h2 className=\"raw-title\">剧照（{detailData.photos_count}）</h2>\n              <div className=\"photos-box\">\n                <div className=\"box-gallery\" data-id={detailData.id} key={detailData.id} ref={current => galleryBox = current}>\n                  {\n                    detailData.photos.map((item: any, index: number) => {\n                      let { image, alt } = item;\n\n                      return (\n                        <div className=\"gallery-img\" key={index}>\n                          {index === 0 && detailData.trailer_urls.length > 0 && (\n                            <>\n                              <Tag color=\"#f50\" className=\"img-tag\">预告片</Tag>\n                              <Icon\n                                type=\"play-circle\"\n                                theme=\"filled\"\n                                className=\"img-icon\"\n                                onClick={(ev) => { openPlayBox(detailData.trailer_urls[currentPlayData.index]) }} />\n                            </>\n                          )}\n                          <img src={image} alt={alt} />\n                        </div>\n                      );\n                    })\n                  }\n                </div>\n              </div>\n            </div>\n            <div className={[\"drawer-in\", isOpenPlayBox ? \"drawer-fixed-bottom\" : \"\"].join(\" \")}>\n              <div className=\"block profile-reviews\">\n                <h2 className=\"raw-title\">影评（{detailData.reviews_count}）</h2>\n                {\n                  detailData.popular_reviews.map((item: any, index: number) => {\n                    let {\n                      author,\n                      rating,\n                      title,\n                      summary,\n                      created_at,\n                    } = item;\n\n                    return (\n                      <Comment\n                        className=\"cutsom-ant-comment\"\n                        key={index}\n                        author={(\n                          <>\n                            <span>{author.name}</span>\n                            <Rate\n                              className=\"custom-ant-rate\"\n                              disabled\n                              defaultValue={rating.value}\n                              count={rating.max} />\n                          </>\n                        )}\n                        avatar={(\n                          <Avatar\n                            src={author.avatar}\n                            alt={author.alt}\n                          />\n                        )}\n                        content={(\n                          <>\n                            <a>{title}</a>\n                            <p>{summary}</p>\n                          </>\n                        )}\n                        datetime={(\n                          <Tooltip title={moment(created_at).format('YYYY-MM-DD HH:mm:ss')}>\n                            <span>{moment(created_at).fromNow()}</span>\n                          </Tooltip>\n                        )}\n                      />\n                    );\n                  })\n                }\n              </div>\n              <div className=\"block profile-comments\">\n                <h2 className=\"raw-title\">热评（{detailData.comments_count}）</h2>\n                {\n                  detailData.popular_comments.map((item: any, index: number) => {\n                    let {\n                      author,\n                      rating,\n                      content,\n                      created_at,\n                      useful_count,\n                      useless_count,\n                    } = item;\n\n                    const actions = [\n                      <span>\n                        <Tooltip title=\"Like\">\n                          <Icon\n                            type=\"like\"\n                            theme='filled'\n                          />\n                        </Tooltip>\n                        <span style={{ paddingLeft: 8, cursor: 'auto' }}>\n                          {useful_count || 0}\n                        </span>\n                      </span>,\n                      <span>\n                        <Tooltip title=\"Dislike\">\n                          <Icon\n                            type=\"dislike\"\n                            theme='outlined'\n                          />\n                        </Tooltip>\n                        <span style={{ paddingLeft: 8, cursor: 'auto' }}>\n                          {useless_count || 0}\n                        </span>\n                      </span>\n                    ];\n\n                    return (\n                      <Comment\n                        className=\"cutsom-ant-comment\"\n                        key={index}\n                        actions={actions}\n                        author={(\n                          <>\n                            <span>{author.name}</span>\n                            <Rate\n                              className=\"custom-ant-rate\"\n                              disabled\n                              defaultValue={rating.value}\n                              count={rating.max} />\n                          </>\n                        )}\n                        avatar={(\n                          <Avatar\n                            src={author.avatar}\n                            alt={author.alt}\n                          />\n                        )}\n                        content={(\n                          <p>{content}</p>\n                        )}\n                        datetime={(\n                          <Tooltip title={moment(created_at).format('YYYY-MM-DD HH:mm:ss')}>\n                            <span>{moment(created_at).fromNow()}</span>\n                          </Tooltip>\n                        )}\n                      />\n                    );\n                  })\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* 抽屉 */}\n      <Drawer\n        placement=\"top\"\n        height=\"460px\"\n        destroyOnClose={true}\n        onClose={closePlayBox}\n        visible={isOpenPlayBox}\n      >\n        <div className=\"container-video clearfix\">\n          <div className=\"video-box\">\n            <video src={currentPlayData.src} autoPlay={currentPlayData.isAutoPlay} controls></video>\n            <div className=\"box-list\">\n              <List\n                className=\"list\"\n                itemLayout=\"vertical\"\n                size=\"small\"\n                dataSource={detailData.trailers}\n                renderItem={(item: any, index: number) => (\n                  <List.Item\n                    className={[\"list-item\", index === currentPlayData.index ? \"active\" : \"\"].join(\" \")}\n                    key={item.id}\n                    extra={<img alt=\"logo\" src={item.medium} />}\n                    onClick={(ev) => { playThisVideo(item.resource_url, index) }} >\n                    <List.Item.Meta\n                      title={item.title}\n                    />\n                  </List.Item>\n                )}\n              />\n            </div>\n          </div>\n        </div>\n      </Drawer>\n    </>\n  );\n};\n","import React from \"react\";\n\nexport default function (props: any) {\n  return (\n    <div>Box page</div>\n  );\n};\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { List, Pagination, Affix } from 'antd';\nimport { ListSkeleton } from '../skeletons/Home';\nimport TopNav from '../components/TopNav';\nimport Footer from '../components/Footer';\nimport { getContentBySearch, getHotShowing } from '../api';\nimport { reSerialize } from '../utils';\nimport '../css/Search.css';\n\n\nexport default function (props: iSearchProps) {\n\n  let { location } = props;\n  let { search } = location;\n  search = search.slice(1); // ?q=123 -> q=123\n  let query: any = reSerialize(search);\n  let searchStr = query.q;\n  let searchPageSize = 5;\n  let [searchData, setSearchData] = useState<any>({});\n  let [hotShowList, setHotShowList] = useState([]);\n  let [isLoadingHotShow, setIsLoadingHotShow] = useState(true);\n  let refPageBox: React.MutableRefObject<any> = useRef();\n  let refRateBox: React.MutableRefObject<any> = useRef();\n\n\n  function changeSearchData(current: number) {\n    getContentBySearch(searchStr, {\n      count: searchPageSize,\n      start: (current - 1) * searchPageSize,\n    })\n      .then(({ data }: AxiosResponse) => {\n        setSearchData(data);\n      });\n  }\n\n  // componentDidMount 只执行一次（第二个参数设置了空数组）\n  useEffect(() => {\n    changeSearchData(1);\n\n    getHotShowing({\n      start: 0,\n      count: 12,\n    })\n      .then(({ data }: AxiosResponse) => {\n        let { subjects } = data;\n\n        setHotShowList(subjects);\n        setIsLoadingHotShow(false);\n\n        var refPageBoxHeight = window.getComputedStyle(refPageBox.current)[\"height\"];\n        var refRateBoxHeight = window.getComputedStyle(refRateBox.current)[\"height\"];\n        if (refRateBoxHeight && refPageBoxHeight) {\n          refPageBoxHeight = refPageBoxHeight.replace(\"px\", \"\");\n          refRateBoxHeight = refRateBoxHeight.replace(\"px\", \"\");\n          if (+refRateBoxHeight > +refPageBoxHeight) {\n            refPageBox.current.style.cssText = `;min-height:${refRateBoxHeight}px;`;\n          }\n\n        }\n\n      });\n  }, []);\n\n  return (\n    <div>\n      <div className=\"header clearfix\">\n        <TopNav />\n      </div>\n      <div className=\"page page-search\" ref={refPageBox}>\n        <div className=\"search-result-list\">\n          <List\n            itemLayout=\"vertical\"\n            size=\"small\"\n            dataSource={searchData.subjects}\n            renderItem={(item: any, index: number) => {\n              let { images, title, id } = item;\n              return (\n                <List.Item\n                  className=\"list-item\"\n                  key={id}>\n                  <List.Item.Meta\n                    avatar={\n                      <Link to={`/detail/${id}`}>\n                        <img alt=\"logo\" className=\"item-img\" src={images.medium} />\n                      </Link>}\n                    title={title}\n                    description={\n                      <div className=\"desc\">\n                        {item.directors.length > 0 &&\n                          <div className=\"directors\">\n                            <label>导演：</label>\n                            {\n                              item.directors.map((item: any, index: number) => {\n                                return <a key={index} className=\"person\">{item.name}</a>\n                              })\n                            }\n                          </div>\n                        }\n                        {item.casts.length > 0 &&\n                          <div className=\"actors\">\n                            <label>演员：</label>\n                            {\n                              item.casts.map((item: any, index: number) => {\n                                let split = \"\";\n                                if (index !== 0) {\n                                  split = \"/\";\n                                }\n                                return (\n                                  <span key={index}>\n                                    {split}\n                                    <a className=\"person\">{item.name}</a>\n                                  </span>\n                                );\n                              })\n                            }\n                          </div>\n                        }\n                        {item.genres.length > 0 &&\n                          <div className=\"tags\">\n                            <label>标签：</label>\n                            {\n                              item.genres.map((tag: string, index: number) => {\n                                let split = \"\";\n                                if (index !== 0) {\n                                  split = \"/\";\n                                }\n                                return (\n                                  <span key={index}>\n                                    {split}\n                                    <a className=\"person\">{tag}</a>\n                                  </span>\n                                );\n                              })\n                            }\n                          </div>\n                        }\n                      </div>\n                    }\n                  />\n                </List.Item>\n              )\n            }} />\n          <Pagination onChange={changeSearchData} total={searchData.total} />\n        </div>\n        <Affix offsetTop={100} className=\"rate-box\">\n          <div ref={refRateBox}>\n            <div className=\"line-raw\">\n              <h2 className=\"raw-title\">热映榜</h2>\n            </div>\n            <ul className=\"goodbox\">\n              {\n                isLoadingHotShow ?\n                  <ListSkeleton row={2} /> :\n                  hotShowList.map((item: any, index: number) => {\n                    let { id, title, rating } = item;\n                    let { average } = rating;\n                    return (\n                      <li className=\"goodbox-rate\" key={index}>\n                        <Link to={`/detail/${id}`}>\n                          <h3 className=\"title\">{title}</h3>\n                          <span className=\"rank\">{index + 1}</span>\n                          <span className=\"box\">{average} 分</span>\n                        </Link>\n                      </li>\n                    );\n                  })\n              }\n            </ul>\n          </div>\n        </Affix>\n      </div>\n      <Footer />\n    </div>\n  );\n\n};\n","import React, { useState, useEffect } from 'react';\nimport TopNav from '../components/TopNav';\nimport { getWallPaper } from \"../api\";\nimport '../css/NotFound.css';\n\nexport default function NotFound() {\n  let BASE_URL = \"http://cn.bing.com\";\n  let [src, setSrc] = useState(\"\");\n\n  useEffect(() => {\n    getWallPaper()\n      .then(({ data }: AxiosResponse) => {\n        let { images } = data;\n\n        setSrc(BASE_URL + images[0].url);\n      });\n  }, []);\n\n  return (\n    <>\n      <div className=\"page page-404\" style={{\n        backgroundImage: `url(${src})`,\n      }}>\n      </div>\n      <div className=\"header header-404 clearfix\">\n        <TopNav noAffix slotTitle={\n          <h1 className=\"page-404-title\">404</h1>\n        } />\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport routerMap from \"./config\";\n\n\nfunction CustomRoute(props: iRouterViewProps) {\n  let path:string = props.location.pathname;\n\n  props.beforeEnter && props.beforeEnter(path);\n\n  // '/'-> '/home\n  if (path === '/') return <Redirect to='/home' />\n\n  // if can match\n  let matchRoute: any = routerMap.find(item => {\n    let url = item.path;\n    // /detail/:id -> \\\\/detail\\\\/[^/+]\n    url = url.replace(/(\\:.+)/g, \"[^/]+\").replace(/\\//g, \"\\\\/\");\n\n    return new RegExp(`${url}(\\\\/|\\\\/)?$`, 'gi').test(path);\n  });\n\n  if (matchRoute) {\n    return <Route exact={!matchRoute.hasChild} path={matchRoute.path} component={matchRoute.component} />\n  }\n  return <Redirect to='/404' />\n}\n\nexport default function (props: iRouterViewProps) {\n  return (\n    <BrowserRouter>\n      <>\n        <Switch>\n          <CustomRoute {...props} />\n        </Switch>\n      </>\n    </BrowserRouter>\n  );\n}\n\n\n","import React from 'react';\nimport { LocaleProvider } from 'antd';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport \"antd/dist/antd.css\";\nimport \"./App.css\";\nimport RouterView from './router/RouterView';\n\nmoment.locale('zh-cn');\n\nfunction routerBeforeEnterHook(path: string) {\n  // 滚动条复位，回到原点\n  window.scrollTo({\n    top: 0,\n    behavior: \"smooth\",\n  });\n  // 取消所有请求\n  window.cancalXHRList.forEach((source: CancelTokenSource) => {\n    source.cancel(\"cancel xhr\");\n  });\n}\n\nfunction App() {\n  return (\n    <LocaleProvider locale={zhCN}>\n      <div className=\"App\">\n        <RouterView beforeEnter={routerBeforeEnterHook} />\n      </div>\n    </LocaleProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","module.exports = __webpack_public_path__ + \"static/media/loading.06245d9b.svg\";"],"sourceRoot":""}