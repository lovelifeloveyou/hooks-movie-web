(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,a,t){e.exports=t.p+"static/media/loading.06245d9b.svg"},137:function(e,a,t){},152:function(e,a,t){e.exports=t.p+"static/media/banner-001.0f7e17ec.jpg"},153:function(e,a,t){e.exports=t.p+"static/media/banner-002.98a4e483.jpg"},154:function(e,a,t){e.exports=t.p+"static/media/banner-003.acb37150.jpg"},155:function(e,a,t){e.exports=t.p+"static/media/banner-004.d8c44150.jpg"},156:function(e,a,t){e.exports=t.p+"static/media/banner-005.c87197be.jpg"},167:function(e,a,t){e.exports=t(298)},172:function(e,a,t){},175:function(e,a,t){},283:function(e,a,t){},292:function(e,a,t){},293:function(e,a,t){},298:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(3),r=t.n(l),s=(t(172),t(113)),i=t(163),m=t.n(i),o=t(20),u=t.n(o),d=(t(173),t(174),t(175),t(41)),E=t(21),p=t(13),v=t(304),f=t(309),g=t(301),b=t(310),h=t(107),N=t.n(h);function j(e){var a=e.column,t=new Array(a||6).fill(1);return c.a.createElement(c.a.Fragment,null,t.map(function(e,a){return c.a.createElement("div",{className:"card-container",key:a},c.a.createElement(v.a,{key:a,loading:!0,className:"movie-card",cover:c.a.createElement("div",{className:"loading-img-box"},c.a.createElement("img",{src:N.a,alt:"loading"}))}))}))}function y(){var e=new Array(9).fill(1);return c.a.createElement("div",{className:"cards-box cards-box--top250 clearfix"},e.map(function(e,a){return c.a.createElement("div",{className:["card-container",0===a?"card-big":""].join(" "),key:a},c.a.createElement(v.a,{key:a,loading:!0,className:"movie-card",cover:c.a.createElement("div",{className:"loading-img-box"},c.a.createElement("img",{src:N.a,alt:"loading"}))}))}))}function k(e){var a=e.row,t=new Array(a||4).fill(1);return c.a.createElement(c.a.Fragment,null,t.map(function(e,a){return c.a.createElement("li",{className:"goodbox-rate",key:a},c.a.createElement(b.a,{className:"title",paragraph:!1}),c.a.createElement(b.a,{className:"summary",title:!1,paragraph:{rows:1}}),c.a.createElement("span",{className:"rank"},"0"),c.a.createElement("span",{className:"box"},"0 \u4e07"))}))}var w=t(14),x=t(312),O=t(83),S=t.n(O),C="/api/movie",_="0b2bdeda43b5688921839c8ecb20399b";function A(){var e=S.a.CancelToken.source();return window.cancalXHRList.push(e),S.a.create({baseURL:C,timeout:3e4,params:{apikey:_},cancelToken:e.token})}function I(e){return A().get("/in_theaters",{params:e})}function R(e,a){return A().get("/search?q=".concat(e),{params:a})}window.cancalXHRList=[];var T=t(149);t(137);var L=Object(d.g)(function(e){var a=Object(n.useState)(""),t=Object(p.a)(a,2),l=t[0],r=t[1],s=Object(n.useState)([]),i=Object(p.a)(s,2),m=i[0],o=i[1],u=Object(n.useState)([]),d=Object(p.a)(u,2),v=d[0],f=d[1],g=Object(n.useState)(q().slice(0)),b=Object(p.a)(g,1)[0],h=Object(n.useState)(""),N=Object(p.a)(h,2),j=N[0],y=N[1],k=Object(n.useState)(!1),O=Object(p.a)(k,2),S=O[0],C=O[1],_=Object(n.useState)(!0),A=Object(p.a)(_,2),L=A[0],H=A[1],M=Object(n.useState)(!1),P=Object(p.a)(M,2),F=P[0],U=P[1];function Y(){""===(j=j.trim())&&(j=l);var a=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=[];if("object"==typeof e){var n=function(n){if(null!=e[n]){var c=e[n];a&&c instanceof Array?t.push(c.map(function(e){return encodeURIComponent(n)+"="+encodeURIComponent(e)}).join("&")):t.push(encodeURIComponent(n)+"="+encodeURIComponent(c))}};for(var c in e)n(c);return t.join("&")}return""}({q:j});e.history.push({pathname:"/search",search:a})}function q(){return JSON.parse(localStorage.getItem("SEARCH_H")||"[]")}function W(e){var a=q().slice(0);a.some(function(a){return a.id===e.id})||(a.unshift(e),a.length>5&&a.pop(),localStorage.setItem("SEARCH_H",JSON.stringify(a)))}function $(e){var a=e.target.value,t=a.trim(),n=t.length>0;y(a),H(!n),n&&J(t)}function D(){C(!1)}function z(){return c.a.createElement("div",{className:["header-bar",F?"head-bar--fixed":""].join(" ")},c.a.createElement("div",{className:"bar-container clearfix"},c.a.createElement("span",{className:"bar-top"},c.a.createElement(E.b,{to:"/home"},c.a.createElement("div",{className:"logo"}),c.a.createElement("div",{className:"slot-title"},e.slotTitle))),c.a.createElement("div",{className:"search"},c.a.createElement("div",{className:"search-box"},c.a.createElement("div",{className:"search-btn",onClick:Y},c.a.createElement(w.a,{type:"search"}),c.a.createElement("span",null,"\u5168\u7f51\u641c")),c.a.createElement("input",{className:"search-input",placeholder:l,value:j,onChange:$,onClick:function(e){e.nativeEvent.stopImmediatePropagation(),C(!0)},onKeyDown:function(e){C(!0),13===e.keyCode&&(C(!1),Y())}})),c.a.createElement("div",{className:"search-list",style:{display:S?"block":"none"},onClick:function(e){e.nativeEvent.stopImmediatePropagation()}},L?c.a.createElement("div",null,c.a.createElement("div",{className:"list-history",style:{display:b.length>0?"block":"none"}},c.a.createElement("h4",{className:"panel-title"},"\u5386\u53f2\u8bb0\u5f55"),c.a.createElement("ul",null,b.map(function(e,a){return c.a.createElement("li",{className:"list-item",key:a},c.a.createElement(E.b,{to:"/detail/".concat(e.id)},c.a.createElement("h5",{className:"title"},e.title)))}))),c.a.createElement("div",{className:"list-hot"},c.a.createElement("h4",{className:"panel-title"},"\u70ed\u6620"),c.a.createElement("ul",null,m.slice(0,8).map(function(e,a){return c.a.createElement("li",{className:"list-item",key:a},c.a.createElement(E.b,{to:"/detail/".concat(e.id),onClick:function(a){W({id:e.id,title:e.title})}},c.a.createElement("span",{className:"index"},+a+1),c.a.createElement("span",{className:"title"},e.title)))})))):c.a.createElement("div",{className:"list-suggest"},c.a.createElement("ul",null,v.map(function(e,a){return c.a.createElement("li",{className:"list-item",key:a},c.a.createElement(E.b,{to:"/detail/".concat(e.id),onClick:function(a){W({id:e.id,title:e.title})}},c.a.createElement("h5",{className:"title"},e.title),c.a.createElement("p",{className:"origin_title"},e.original_title)))})))))))}var J=T.debounce(function(e){R(e,{count:5}).then(function(e){var a=e.data.subjects;f(a)})},500);return Object(n.useEffect)(function(){return I({start:0,count:12}).then(function(e){var a=e.data.subjects,t=a.length>0?a[0].title:"";r(t),o(a)}),document.addEventListener("click",D),function(){document.removeEventListener("click",D)}},[]),e.noAffix?z():c.a.createElement(x.a,{onChange:function(e){U(!!e)}},z())}),H=t(300),M=function(){return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"footer-block content-origin"},c.a.createElement("span",null,"\u514d\u8d23\u58f0\u660e\uff1a\u5185\u5bb9\u6765\u6e90\u4e8e ",c.a.createElement("a",{href:"https://movie.douban.com/",target:"_blank"},"\u8c46\u74e3\u7535\u5f71")," \uff0c\u63a5\u53e3\u6765\u6e90\u4e8e\u7f51\u7edc\uff0c\u4fb5\u5220\uff0c\u7981\u6b62\u5546\u4e1a\u7528\u9014\u4f7f\u7528")),c.a.createElement("div",{className:"footer-block copyright"},c.a.createElement("span",null,"Copyright \xa92019 ",c.a.createElement("a",{href:"https://github.com/lovelifeloveyou",target:"_blank"},"superqjq")," <1921689024@qq.com>"),c.a.createElement(H.a,{type:"vertical"})),c.a.createElement("div",{className:"footer-block menu"},c.a.createElement("span",null,c.a.createElement("a",{href:"https://github.com/lovelifeloveyou",target:"_blank"},"\u5173\u4e8e\u6211")),c.a.createElement(H.a,{type:"vertical"}),c.a.createElement("span",null,c.a.createElement("a",{href:"https://github.com/lovelifeloveyou",target:"_blank"},"About me")),c.a.createElement(H.a,{type:"vertical"}),c.a.createElement("span",null,c.a.createElement("a",{href:"https://github.com/lovelifeloveyou",target:"_blank"},"Github"))))},P=t(68),F=t.n(P),U=t(152),Y=t.n(U),q=t(153),W=t.n(q),$=t(154),D=t.n($),z=t(155),J=t.n(z),B=t(156),X=t.n(B),V=t(306),G=t(305),K=t(302),Q=t(308),Z=t(303),ee=t(66),ae=t(307),te=t(311),ne=function(){return c.a.createElement("div",{className:"page page-detail"},c.a.createElement("div",{className:"poster-box"},c.a.createElement("div",{className:"profile"},c.a.createElement("div",{className:"profile-rate"},c.a.createElement("div",{className:"rate"},c.a.createElement("span",{className:"units"},"0")),c.a.createElement(V.a,{title:"\u8bc4\u4ef7\u4eba\u6570",value:"0",className:"box"})),c.a.createElement("div",{className:"block profile-img-loading"}),c.a.createElement("div",{className:"block profile-info"},c.a.createElement(b.a,null)),c.a.createElement("div",{className:"block profile-reviews"},c.a.createElement(b.a,{avatar:!0,paragraph:{rows:4}})))))},ce=(t(283),t(164));t(292),t(293);var le=[{path:"/home",component:function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],l=a[1],r=Object(n.useState)([]),s=Object(p.a)(r,2),i=s[0],m=s[1],o=Object(n.useState)([]),u=Object(p.a)(o,2),d=u[0],b=u[1],h=Object(n.useState)([]),N=Object(p.a)(h,2),w=N[0],x=N[1],O=Object(n.useState)([]),S=Object(p.a)(O,2),C=S[0],_=S[1],R=Object(n.useState)(""),T=Object(p.a)(R,2),H=T[0],P=T[1],U=Object(n.useState)(!0),q=Object(p.a)(U,2),$=q[0],z=q[1],B=Object(n.useState)(!0),V=Object(p.a)(B,2),G=V[0],K=V[1],Q=Object(n.useState)(!0),Z=Object(p.a)(Q,2),ee=Z[0],ae=Z[1],te=Object(n.useState)(!0),ne=Object(p.a)(te,2),ce=ne[0],le=ne[1],re=Object(n.useState)(!0),se=Object(p.a)(re,2),ie=se[0],me=se[1],oe=[Y.a,W.a,D.a,J.a,X.a];return Object(n.useEffect)(function(){var e;I({start:0,count:12}).then(function(e){var a=e.data.subjects;l(a),z(!1)}),A().get("/new_movies").then(function(e){var a=e.data.subjects;m(a),K(!1)}),A().get("/us_box").then(function(e){var a=e.data,t=a.subjects,n=a.date;P(n),b(t),ae(!1)}),A().get("/weekly").then(function(e){var a=e.data.subjects;x(a),le(!1)}),(e={count:36},A().get("/top250",{params:e})).then(function(e){var a=e.data.subjects;_(a),me(!1)})},[]),c.a.createElement("div",null,c.a.createElement("div",{className:"header"},c.a.createElement(L,null),c.a.createElement("div",{className:"header-banner"},c.a.createElement(g.a,{autoplay:!0},oe.map(function(e,a){return c.a.createElement("div",{className:"banner-item",key:a},c.a.createElement("img",{src:e,alt:"banner"}))})))),c.a.createElement("div",{className:"page page-home"},c.a.createElement("div",{className:"block block-hotshow"},c.a.createElement("div",{className:"line-raw"},c.a.createElement("h2",{className:"raw-title"},"\u6b63\u5728\u70ed\u6620")),c.a.createElement("div",{className:"cards-box clearfix"},$?c.a.createElement(j,{column:6}):t.map(function(e,a){return c.a.createElement("div",{className:"card-container",key:a},c.a.createElement(v.a,{className:"movie-card",hoverable:!0,cover:c.a.createElement(E.b,{to:"/detail/".concat(e.id)},c.a.createElement(F.a,{height:300,offsetTop:500},c.a.createElement("img",{src:e.images.small})))},c.a.createElement(f.a,{className:"img-tag tag-orange"},e.rating.average),c.a.createElement(v.a.Meta,{title:e.title,description:e.genres.join("/")})))}))),c.a.createElement("div",{className:"block block-newmovie"},c.a.createElement("div",{className:"line-raw"},c.a.createElement("h2",{className:"raw-title"},"\u65b0\u7247\u699c")),c.a.createElement("div",{className:"cards-box clearfix"},G?c.a.createElement(j,{column:4}):i.map(function(e,a){return c.a.createElement("div",{className:"card-container",key:a},c.a.createElement(v.a,{className:"movie-card",hoverable:!0,cover:c.a.createElement(E.b,{to:"/detail/".concat(e.id)},c.a.createElement(F.a,{height:300,offsetTop:500},c.a.createElement("img",{src:e.images.small})))},c.a.createElement(f.a,{className:"img-tag tag-orange"},e.rating.average),c.a.createElement(v.a.Meta,{title:e.title,description:e.genres.join("/")})))})),c.a.createElement("div",{className:"rate-box"},c.a.createElement("div",{className:"line-raw"},c.a.createElement("h2",{className:"raw-title"},"\u5317\u7f8e\u7968\u623f\u699c"),c.a.createElement("p",null,H," \u66f4\u65b0/\u7f8e\u5143")),c.a.createElement("ul",{className:"goodbox"},ee?c.a.createElement(k,{row:2}):d.map(function(e,a){var t,n=e.rank,l=e.box,r=e.subject,s=r.title,i=r.id,m=r.rating,o=r.collect_count,u=m.average,d=[];return e.new&&d.push("<span class='box-new'>\u65b0\u4e0a\u699c</span>"),d.push("".concat(u||0," \u5206")),d.push("".concat(o," \u6536\u85cf")),t=d.join(" / "),c.a.createElement("li",{className:"goodbox-rate",key:a},c.a.createElement(E.b,{to:"/detail/".concat(i)},c.a.createElement("h3",{className:"title"},s),c.a.createElement("p",{className:"summary",dangerouslySetInnerHTML:{__html:t}}),c.a.createElement("span",{className:"rank"},n),c.a.createElement("span",{className:"box"},l/1e4," \u4e07")))})))),c.a.createElement("div",{className:"block block-weekly"},c.a.createElement("div",{className:"line-raw"},c.a.createElement("h2",{className:"raw-title"},"\u4e00\u5468\u53e3\u7891\u699c"),c.a.createElement("div",{className:"spotbox"},c.a.createElement("div",{className:"spot"}),c.a.createElement("div",{className:"spot"}),c.a.createElement("div",{className:"spot"}))),c.a.createElement("div",{className:"cards-box weekly-box clearfix"},w.slice(0,6).map(function(e,a){var t=e.subject,n=t.rating,l=t.title,r=n.average;return c.a.createElement("div",{className:"card-container",key:a},c.a.createElement("div",{className:"rate"},r," \u5206"),c.a.createElement("div",{className:"title"},l),c.a.createElement("div",{className:"dot"}))})),c.a.createElement("div",{className:"cards-box clearfix"},ce?c.a.createElement(j,{column:6}):w.slice(0,6).map(function(e,a){var t=e.subject,n=t.rating,l=t.title,r=t.id,s=t.images,i=t.genres,m=n.average;return c.a.createElement("div",{className:"card-container",key:a},c.a.createElement(v.a,{className:"movie-card",hoverable:!0,cover:c.a.createElement(E.b,{to:"/detail/".concat(r,"/#")},c.a.createElement(F.a,{height:300,offsetTop:500},c.a.createElement("img",{src:s.small})))},c.a.createElement(f.a,{className:"img-tag tag-orange"},m),c.a.createElement(v.a.Meta,{title:l,description:i.join("/")})))}))),c.a.createElement("div",{className:"block block-top250"},c.a.createElement("div",{className:"line-raw"},c.a.createElement("h2",{className:"raw-title"},"Top 250")),ie?c.a.createElement(y,null):function(){var e=C.length,a=new Array(e/9|0).fill(0);return(a=a.map(function(e,a){var t=9*a,n=t+9;return C.slice(t,n)})).map(function(e,a){return c.a.createElement("div",{className:"cards-box cards-box--top250 clearfix",key:a},e.map(function(e,t){var n=0===t;return c.a.createElement("div",{className:["card-container",n?"card-big":""].join(" "),key:a+t},c.a.createElement(v.a,{className:"movie-card",hoverable:!0,cover:c.a.createElement(E.b,{to:"/detail/".concat(e.id)},c.a.createElement(F.a,{height:n?600:300,offsetTop:500},c.a.createElement("img",{className:"card-img",src:e.images.small})))},c.a.createElement(f.a,{className:"img-tag tag-orange"},e.rating.average),c.a.createElement(v.a.Meta,{title:e.title,description:e.genres.join("/")})))}))})}())),c.a.createElement(M,null))}},{path:"/detail/:id",component:function(e){var a=e.match.params,t=Object(n.useState)({index:0,isAutoPlay:!0}),l=Object(p.a)(t,2),r=l[0],s=l[1],i=Object(n.useState)({}),m=Object(p.a)(i,2),o=m[0],d=m[1],E=Object(n.useState)(!0),v=Object(p.a)(E,2),g=v[0],b=v[1],h=Object(n.useState)(!1),N=Object(p.a)(h,2),j=N[0],y=N[1],k=null;function x(e,a){s({src:e,index:a,isAutoPlay:!0})}return Object(n.useEffect)(function(){var e;(e=a.id,A().get("/subject/".concat(e))).then(function(e){var a=e.data,t=(""+a.rating.average).split("."),n=Object(p.a)(t,2),c=n[0],l=n[1];a.$units=c||0,a.$decimal=l||0,d(a),b(!1)})},[]),Object(n.useEffect)(function(){if(!0!==g)var e=setTimeout(function(){clearTimeout(e),function(){if(k){var e=k;if(e){var a=0;Array.from(e.children).map(function(e){var t=+(getComputedStyle(e).width||"0").replace("px","");t=Math.ceil(t),a+=t}),e.style.width="".concat(a,"px")}}}()},3e3)},[g]),g?c.a.createElement(ne,null):o.id?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"page page-detail"},c.a.createElement("div",{className:"poster-box"},c.a.createElement("div",{className:"profile"},c.a.createElement("div",{className:"profile-rate"},c.a.createElement("div",{className:"rate"},c.a.createElement("span",{className:"units"},o.$units),o.$units>0&&c.a.createElement("span",{className:"decimal"},".",o.$decimal)),c.a.createElement(V.a,{title:"\u8bc4\u4ef7\u4eba\u6570",value:o.ratings_count,className:"box"}),c.a.createElement("h2",{className:"title"},o.original_title)),c.a.createElement("div",{className:"block profile-img"},c.a.createElement("img",{src:o.images.small,alt:""})),c.a.createElement("div",{className:"block profile-info"},c.a.createElement("h2",{className:"raw-title"},o.title),c.a.createElement("div",{className:"tags"},o.tags.map(function(e,a){return c.a.createElement(f.a,{className:"tag-text",key:a},e)})),c.a.createElement("div",{className:"directors"},c.a.createElement("label",null,"\u5bfc\u6f14\uff1a"),o.directors.map(function(e,a){return c.a.createElement("a",{key:a,className:"person"},e.name)})),c.a.createElement("div",{className:"actors"},c.a.createElement("label",null,"\u6f14\u5458\uff1a"),o.casts.map(function(e,a){var t="";return 0!==a&&(t="/"),c.a.createElement("span",{key:a},t,c.a.createElement("a",{className:"person"},e.name))})),c.a.createElement("div",{className:"video_summary"},c.a.createElement(G.a.Paragraph,{className:"summary",ellipsis:{rows:3,expandable:!0}},o.summary))),c.a.createElement("div",{className:"block profile-photos"},c.a.createElement("h2",{className:"raw-title"},"\u5267\u7167\uff08",o.photos_count,"\uff09"),c.a.createElement("div",{className:"photos-box"},c.a.createElement("div",{className:"box-gallery","data-id":o.id,key:o.id,ref:function(e){return k=e}},o.photos.map(function(e,a){var t=e.image,n=e.alt;return c.a.createElement("div",{className:"gallery-img",key:a},0===a&&o.trailer_urls.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{color:"#f50",className:"img-tag"},"\u9884\u544a\u7247"),c.a.createElement(w.a,{type:"play-circle",theme:"filled",className:"img-icon",onClick:function(e){x(o.trailer_urls[r.index],0),y(!0)}})),c.a.createElement("img",{src:t,alt:n}))})))),c.a.createElement("div",{className:["drawer-in",j?"drawer-fixed-bottom":""].join(" ")},c.a.createElement("div",{className:"block profile-reviews"},c.a.createElement("h2",{className:"raw-title"},"\u5f71\u8bc4\uff08",o.reviews_count,"\uff09"),o.popular_reviews.map(function(e,a){var t=e.author,n=e.rating,l=e.title,r=e.summary,s=e.created_at;return c.a.createElement(K.a,{className:"cutsom-ant-comment",key:a,author:c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,t.name),c.a.createElement(Q.a,{className:"custom-ant-rate",disabled:!0,defaultValue:n.value,count:n.max})),avatar:c.a.createElement(Z.a,{src:t.avatar,alt:t.alt}),content:c.a.createElement(c.a.Fragment,null,c.a.createElement("a",null,l),c.a.createElement("p",null,r)),datetime:c.a.createElement(ee.a,{title:u()(s).format("YYYY-MM-DD HH:mm:ss")},c.a.createElement("span",null,u()(s).fromNow()))})})),c.a.createElement("div",{className:"block profile-comments"},c.a.createElement("h2",{className:"raw-title"},"\u70ed\u8bc4\uff08",o.comments_count,"\uff09"),o.popular_comments.map(function(e,a){var t=e.author,n=e.rating,l=e.content,r=e.created_at,s=e.useful_count,i=e.useless_count,m=[c.a.createElement("span",null,c.a.createElement(ee.a,{title:"Like"},c.a.createElement(w.a,{type:"like",theme:"filled"})),c.a.createElement("span",{style:{paddingLeft:8,cursor:"auto"}},s||0)),c.a.createElement("span",null,c.a.createElement(ee.a,{title:"Dislike"},c.a.createElement(w.a,{type:"dislike",theme:"outlined"})),c.a.createElement("span",{style:{paddingLeft:8,cursor:"auto"}},i||0))];return c.a.createElement(K.a,{className:"cutsom-ant-comment",key:a,actions:m,author:c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,t.name),c.a.createElement(Q.a,{className:"custom-ant-rate",disabled:!0,defaultValue:n.value,count:n.max})),avatar:c.a.createElement(Z.a,{src:t.avatar,alt:t.alt}),content:c.a.createElement("p",null,l),datetime:c.a.createElement(ee.a,{title:u()(r).format("YYYY-MM-DD HH:mm:ss")},c.a.createElement("span",null,u()(r).fromNow()))})})))))),c.a.createElement(ae.a,{placement:"top",height:"460px",destroyOnClose:!0,onClose:function(){y(!1)},visible:j},c.a.createElement("div",{className:"container-video clearfix"},c.a.createElement("div",{className:"video-box"},c.a.createElement("video",{src:r.src,autoPlay:r.isAutoPlay,controls:!0}),c.a.createElement("div",{className:"box-list"},c.a.createElement(te.a,{className:"list",itemLayout:"vertical",size:"small",dataSource:o.trailers,renderItem:function(e,a){return c.a.createElement(te.a.Item,{className:["list-item",a===r.index?"active":""].join(" "),key:e.id,extra:c.a.createElement("img",{alt:"logo",src:e.medium}),onClick:function(t){x(e.resource_url,a)}},c.a.createElement(te.a.Item.Meta,{title:e.title}))}})))))):""}},{path:"/box",component:function(e){return c.a.createElement("div",null,"Box page")}},{path:"/search",component:function(e){var a=e.location.search,t=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return decodeURIComponent(e).split("&").reduce(function(e,t){var n=t.indexOf("="),c=t.slice(0,n),l=t.slice(n+1);return a&&e[c]?e[c]instanceof Array?e[c].push(l):e[c]=[e[c],l]:e[c]=l,e},{})}(a=a.slice(1)).q,l=5,r=Object(n.useState)({}),s=Object(p.a)(r,2),i=s[0],m=s[1],o=Object(n.useState)([]),u=Object(p.a)(o,2),d=u[0],v=u[1],f=Object(n.useState)(!0),g=Object(p.a)(f,2),b=g[0],h=g[1],N=Object(n.useRef)(),j=Object(n.useRef)();function y(e){R(t,{count:l,start:(e-1)*l}).then(function(e){var a=e.data;m(a)})}return Object(n.useEffect)(function(){y(1),I({start:0,count:12}).then(function(e){var a=e.data.subjects;v(a),h(!1);var t=window.getComputedStyle(N.current).height,n=window.getComputedStyle(j.current).height;n&&t&&(t=t.replace("px",""),+(n=n.replace("px",""))>+t&&(N.current.style.cssText=";min-height:".concat(n,"px;")))})},[]),c.a.createElement("div",null,c.a.createElement("div",{className:"header clearfix"},c.a.createElement(L,null)),c.a.createElement("div",{className:"page page-search",ref:N},c.a.createElement("div",{className:"search-result-list"},c.a.createElement(te.a,{itemLayout:"vertical",size:"small",dataSource:i.subjects,renderItem:function(e,a){var t=e.images,n=e.title,l=e.id;return c.a.createElement(te.a.Item,{className:"list-item",key:l},c.a.createElement(te.a.Item.Meta,{avatar:c.a.createElement(E.b,{to:"/detail/".concat(l)},c.a.createElement("img",{alt:"logo",className:"item-img",src:t.medium})),title:n,description:c.a.createElement("div",{className:"desc"},e.directors.length>0&&c.a.createElement("div",{className:"directors"},c.a.createElement("label",null,"\u5bfc\u6f14\uff1a"),e.directors.map(function(e,a){return c.a.createElement("a",{key:a,className:"person"},e.name)})),e.casts.length>0&&c.a.createElement("div",{className:"actors"},c.a.createElement("label",null,"\u6f14\u5458\uff1a"),e.casts.map(function(e,a){var t="";return 0!==a&&(t="/"),c.a.createElement("span",{key:a},t,c.a.createElement("a",{className:"person"},e.name))})),e.genres.length>0&&c.a.createElement("div",{className:"tags"},c.a.createElement("label",null,"\u6807\u7b7e\uff1a"),e.genres.map(function(e,a){var t="";return 0!==a&&(t="/"),c.a.createElement("span",{key:a},t,c.a.createElement("a",{className:"person"},e))})))}))}}),c.a.createElement(ce.a,{onChange:y,total:i.total})),c.a.createElement(x.a,{offsetTop:100,className:"rate-box"},c.a.createElement("div",{ref:j},c.a.createElement("div",{className:"line-raw"},c.a.createElement("h2",{className:"raw-title"},"\u70ed\u6620\u699c")),c.a.createElement("ul",{className:"goodbox"},b?c.a.createElement(k,{row:2}):d.map(function(e,a){var t=e.id,n=e.title,l=e.rating.average;return c.a.createElement("li",{className:"goodbox-rate",key:a},c.a.createElement(E.b,{to:"/detail/".concat(t)},c.a.createElement("h3",{className:"title"},n),c.a.createElement("span",{className:"rank"},a+1),c.a.createElement("span",{className:"box"},l," \u5206")))}))))),c.a.createElement(M,null))}},{path:"/404",component:function(){var e=Object(n.useState)(""),a=Object(p.a)(e,2),t=a[0],l=a[1];return Object(n.useEffect)(function(){S.a.get("/bing/HPImageArchive.aspx",{params:{format:"js",idx:0,n:1,mkt:"zh-CN"}}).then(function(e){var a=e.data.images;l("http://cn.bing.com"+a[0].url)})},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"page page-404",style:{backgroundImage:"url(".concat(t,")")}}),c.a.createElement("div",{className:"header header-404 clearfix"},c.a.createElement(L,{noAffix:!0,slotTitle:c.a.createElement("h1",{className:"page-404-title"},"404")})))}}];function re(e){var a=e.location.pathname;if(e.beforeEnter&&e.beforeEnter(a),"/"===a)return c.a.createElement(d.a,{to:"/home"});var t=le.find(function(e){var t=e.path;return t=t.replace(/(\:.+)/g,"[^/]+").replace(/\//g,"\\/"),new RegExp("".concat(t,"(\\/|\\/)?$"),"gi").test(a)});return t?c.a.createElement(d.b,{exact:!t.hasChild,path:t.path,component:t.component}):c.a.createElement(d.a,{to:"/404"})}var se=function(e){return c.a.createElement(E.a,null,c.a.createElement(c.a.Fragment,null,c.a.createElement(d.d,null,c.a.createElement(re,e))))};function ie(e){window.scrollTo({top:0,behavior:"smooth"}),window.cancalXHRList.forEach(function(e){e.cancel("cancel xhr")})}u.a.locale("zh-cn");var me=function(){return c.a.createElement(s.b,{locale:m.a},c.a.createElement("div",{className:"App"},c.a.createElement(se,{beforeEnter:ie})))},oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ue(e,a){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(c.a.createElement(me,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var a="".concat("","/service-worker.js");oe?(function(e,a){fetch(e).then(function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ue(e,a)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ue(a,e)})}}()}},[[167,1,2]]]);
//# sourceMappingURL=main.f5ee8b83.chunk.js.map